{
  // Python environment
  "python.defaultInterpreterPath": ".venv/bin/python",

  // Ruff — lint + format on save
  "ruff.importStrategy": "fromEnvironment",
  "[python]": {
    "editor.defaultFormatter": "charliermarsh.ruff",
    "editor.formatOnSave": true,
    "editor.codeActionsOnSave": {
      "source.fixAll.ruff": "explicit",
      "source.organizeImports.ruff": "explicit"
    }
  },

  // Web formatting
  "editor.defaultFormatter": "esbenp.prettier-vscode",
  "[css][javascript]": {
    "editor.formatOnSave": true
  },
  // HTML: disable format-on-save — Prettier breaks Django {% %} template tags.
  // Use .prettierignore (templates/) as a second layer of protection.
  "[html]": {
    "editor.formatOnSave": false
  },

  // .clauderules is plain-text but uses Markdown conventions (headings, fenced
  // code blocks) — associate as Markdown so Python linting never fires on it.
  "files.associations": {
    "*.clauderules": "markdown"
  },

  // ── Claude (Anthropic) in VS Code ──────────────────────────────────────
  // .clauderules is auto-detected by the Claude extension as the rules file.
  // AGENTS.md is attached as a context file for every chat session.
  "claude.contextFiles": ["AGENTS.md"],

  // ── GitHub Copilot (fallback / parallel use) ───────────────────────────
  // Instructions are read from .github/copilot-instructions.md automatically.
  "github.copilot.chat.codeGeneration.useInstructionFiles": true
}
